{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Form, Button, Input, Message } from 'semantic-ui-react';\nimport Layout from '../../components/Layout';\nimport factory from '../../ethereum/factory';\nimport web3 from '../../ethereum/web3';\nimport { Router } from '../../routes';\n\nconst CampaignNew = props => {\n  const {\n    0: miniContribution,\n    1: setMiniContribution\n  } = useState('');\n  const {\n    0: errMsg,\n    1: setErrMsg\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const onSubmitHandler = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setErrMsg('');\n\n    try {\n      const accounts = await web3.eth.getAccounts();\n      await factory.methods.createCampaigns(miniContribution).send({\n        from: accounts[0]\n      });\n      Router.pushRoute('/');\n    } catch (err) {\n      setErrMsg(err.message);\n    }\n\n    setLoading(false);\n  };\n\n  return __jsx(Layout, null, __jsx(\"h1\", null, \"Create a Campaign\"), __jsx(Form, {\n    error: !!errMsg,\n    onSubmit: onSubmitHandler\n  }, __jsx(Form.Field, null, __jsx(\"label\", null, \"Minimum Contribution\"), __jsx(Input, {\n    label: \"wei\",\n    labelPosition: \"right\",\n    value: miniContribution,\n    onChange: event => setMiniContribution(event.target.value)\n  })), __jsx(Message, {\n    error: true,\n    header: \"Oops!\",\n    content: errMsg\n  }), __jsx(Button, {\n    loading: loading,\n    primary: true,\n    type: \"submit\"\n  }, \"Create!\")));\n};\n\nexport default CampaignNew;","map":null,"metadata":{},"sourceType":"module"}