{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Form, Button, Input, Message } from 'semantic-ui-react';\nimport Layout from '../../components/Layout';\nimport factory from '../../ethereum/factory';\nimport web3 from '../../ethereum/web3';\nimport { Router } from '../../routes';\n\nvar CampaignNew = function CampaignNew(props) {\n  var _useState = useState(''),\n      miniContribution = _useState[0],\n      setMiniContribution = _useState[1];\n\n  var _useState2 = useState(''),\n      errMsg = _useState2[0],\n      setErrMsg = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var onSubmitHandler = function onSubmitHandler(event) {\n    var accounts;\n    return _regeneratorRuntime.async(function onSubmitHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            event.preventDefault();\n            setLoading(true);\n            setErrMsg('');\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(web3.eth.getAccounts());\n\n          case 6:\n            accounts = _context.sent;\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(factory.methods.createCampaigns(miniContribution).send({\n              from: accounts[0]\n            }));\n\n          case 9:\n            Router.pushRoute('/');\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](3);\n            setErrMsg(_context.t0.message);\n\n          case 15:\n            setLoading(false);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 12]]);\n  };\n\n  return __jsx(Layout, null, __jsx(\"h1\", null, \"Create a Campaign\"), __jsx(Form, {\n    error: !!errMsg,\n    onSubmit: onSubmitHandler\n  }, __jsx(Form.Field, null, __jsx(\"label\", null, \"Minimum Contribution\"), __jsx(Input, {\n    label: \"wei\",\n    labelPosition: \"right\",\n    value: miniContribution,\n    onChange: function onChange(event) {\n      return setMiniContribution(event.target.value);\n    }\n  })), __jsx(Message, {\n    error: true,\n    header: \"Oops!\",\n    content: errMsg\n  }), __jsx(Button, {\n    loading: loading,\n    primary: true,\n    type: \"submit\"\n  }, \"Create!\")));\n};\n\nexport default CampaignNew;","map":null,"metadata":{},"sourceType":"module"}