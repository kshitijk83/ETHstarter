{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.f29ac6df6d3738bb382a.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Table, Button } from \"semantic-ui-react\";\nimport web3 from \"../ethereum/web3\";\nimport Campaign from \"../ethereum/campaign\";\n\nconst RequestRow = props => {\n  const [loading, setLoading] = useState(false);\n  const { Row, Cell } = Table;\n  const { id, request, approversCount } = props;\n\n  const onApproveHandler = async () => {\n    const campaign = Campaign(props.address);\n    setLoading(true);\n    try {\n      const accounts = web3.eth.getAccounts();\n      await campaign.methods.approveRequest(props.id).send({\n        from: accounts[0]\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const onFinalizeHandler = async () => {\n    const campaign = Campaign(props.address);\n    setLoading(true);\n    try {\n      const accounts = web3.eth.getAccounts();\n      await campaign.methods.finalizeRequest(props.id).send({\n        from: accounts[0]\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  return (\n    <Row disabled={request.complete}>\n      <Cell>{id}</Cell>\n      <Cell>{request.description}</Cell>\n      <Cell>{web3.utils.fromWei(request.value, \"ether\")}</Cell>\n      <Cell>{request.recipient}</Cell>\n      <Cell>{`${request.approvalCount}/${approversCount}`}</Cell>\n      <Cell>\n        {request.complete ? null : (\n          <Button basic color=\"green\" onClick={onApproveHandler}>\n            Approve\n          </Button>\n        )}\n      </Cell>\n      <Cell>\n        {request.complete ? null : (\n          <Button basic color=\"teal\" onClick={onFinalizeHandler}>\n            Finalize\n          </Button>\n        )}\n      </Cell>\n    </Row>\n  );\n};\n\nexport default RequestRow;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAAA;AAMA;AADA;AACA;AANA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AASA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAJA;AAAA;AAMA;AADA;AACA;AANA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AASA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AAAA;AAQA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}